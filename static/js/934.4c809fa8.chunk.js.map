{"version":3,"file":"static/js/934.4c809fa8.chunk.js","mappings":"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","sources":["webpack://social-network/./src/components/Profile/Profile.module.css?b512","webpack://social-network/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","webpack://social-network/./src/components/Profile/MyPosts/MyPosts.module.css?831b","webpack://social-network/./src/components/Profile/MyPosts/Post/Post.module.css?87e6","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/hoc/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"content\":\"Profile_content__emg7A\"};","// extracted by mini-css-extract-plugin\nexport default {\"background\":\"ProfileInfo_background__78SLa\",\"description\":\"ProfileInfo_description__6F-0C\",\"info\":\"ProfileInfo_info__S7AGT\",\"status\":\"ProfileInfo_status__XnFHB\",\"name\":\"ProfileInfo_name__NzMz1\",\"text\":\"ProfileInfo_text__Ow0ZD\",\"input\":\"ProfileInfo_input__kzXLy\"};","import React from \"react\";\r\nimport classes from './ProfileInfo.module.css';\r\n\r\n\r\nclass ProfileStatus extends React.Component{\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\n\r\n    activateEditMode = () =>{\r\n        this.setState({\r\n            editMode: true\r\n        })\r\n    }\r\n\r\n    deactivateEditMode = () =>{\r\n        this.setState({\r\n            editMode: false\r\n        });\r\n        this.props.updateStatus(this.state.status);\r\n    }\r\n\r\n    onStatusChange = (e) =>{\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState){\r\n        if(prevProps.status !== this.props.status){\r\n            this.setState({\r\n                status: this.props.status\r\n            })\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className={classes.status}>\r\n                {!this.state.editMode \r\n                    ? \r\n                    <div>\r\n                        <span className={classes.text} onDoubleClick={this.activateEditMode}>{this.props.status || \"----\"}</span>\r\n                    </div>\r\n                    :\r\n                    <div>\r\n                        <input onChange={this.onStatusChange} className={classes.input} autoFocus={true} onBlur={this.deactivateEditMode} type=\"text\" \r\n                            value={this.state.status}/>\r\n                    </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProfileStatus;","import React from 'react';\r\nimport classes from './ProfileInfo.module.css';\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\r\nimport ProfileStatus from './ProfileStatus';\r\n\r\nconst ProfileInfo = ({profile, status, updateStatus}) =>{\r\n    if(!profile){\r\n        return <div></div>\r\n    }\r\n    return (\r\n        <div>\r\n            <div className={classes.background}>\r\n                <img src='https://kudann.ru/uploads/af315a318da415860ee72551a830a06f.png' alt='img'></img>\r\n            </div>\r\n            <div className={classes.description}>\r\n                {profile.photos.small ? <img src={profile.photos.small} alt='avatar'/>\r\n                : <img src='https://cdn-icons-png.flaticon.com/512/53/53133.png' alt='avatar'/>}\r\n                <div className={classes.info}>\r\n                    <div className={classes.name}>{profile.fullName}</div>\r\n                    <ProfileStatus status={status} updateStatus={updateStatus}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;","// extracted by mini-css-extract-plugin\nexport default {\"posts\":\"MyPosts_posts__7ozE3\",\"line\":\"MyPosts_line__5QmIi\",\"new_post\":\"MyPosts_new_post__DFnlf\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__ukdeU\",\"text\":\"Post_text__KTpaE\"};","import React from \"react\";\r\nimport classes from './Post.module.css';\r\n\r\nconst Post = (props) =>{\r\n    return(\r\n        <div className={classes.item}>\r\n            <div className={classes.text}>\r\n                <img src='https://cdn-icons-png.flaticon.com/512/53/53133.png' alt='avatar'/>\r\n                {props.message}\r\n            </div>\r\n            <div>\r\n                <span>like {props.likesCount}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import React from \"react\";\r\nimport classes from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { required, maxLengthCreator } from \"../../../utils/validators/validators\";\r\nimport { Textarea } from \"../../common/FormsControls/FormsControls\";\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst MyPosts = React.memo(props =>{\r\n    let postsElements = props.postsData.map(post => (<Post message={post.message} likesCount={post.likesCount} />));\r\n\r\n    let onAddPost = (values) => {\r\n        props.addPost(values.newPostText);\r\n    };\r\n\r\n    return(\r\n        <div>\r\n            <span className={classes.line}></span>\r\n            <h2>My posts</h2>\r\n            <AddNewPostReduxForm onSubmit={onAddPost}/>\r\n            <div className={classes.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nconst AddNewPostForm = (props) =>{\r\n    return(\r\n        <form onSubmit={props.handleSubmit} className={classes.new_post}>\r\n            <div>\r\n                <Field component={Textarea} name=\"newPostText\" validate={[required, maxLength10]} id=\"\" cols=\"30\" rows=\"3\" \r\n                    placeholder=\"Enter your post\" />\r\n            </div>\r\n            <div>\r\n                <button>new post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddNewPostReduxForm = reduxForm({\r\n    form: 'addNewPost'\r\n})(AddNewPostForm)\r\n\r\nexport default MyPosts;","import MyPosts from \"./MyPosts\";\r\nimport {addPostActionCreater} from '../../../redux/profile-reducer'\r\nimport { connect } from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) =>{\r\n    return{\r\n        postsData: state.profilePage.postsData,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return{\r\n        addPost: (newPostText) => {\r\n            dispatch(addPostActionCreater(newPostText));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport classes from './Profile.module.css';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n\r\nconst Profile = (props) =>{\r\n    return (\r\n        <div className={classes.content}>\r\n            <ProfileInfo {...props}/>\r\n            <MyPostsContainer />\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport { getProfileThunkCreater, getStatusThunkCreater, updateStatusThunkCreater } from '../../redux/profile-reducer';\r\nimport {useLocation, useNavigate, useParams} from \"react-router-dom\";\r\nimport { withAuthRedirect } from '../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nfunction withRouter(Component) {\r\n    function ComponentWithRouterProp(props) {\r\n        let location = useLocation();\r\n        let navigate = useNavigate();\r\n        let params = useParams();\r\n        return (\r\n            <Component\r\n                {...props}\r\n                router={{ location, navigate, params }}\r\n            />\r\n        );\r\n    }\r\n\r\n    return ComponentWithRouterProp;\r\n}\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    componentDidMount(){\r\n        let userId = this.props.router.params.userId;\r\n        if(!userId){\r\n            userId = this.props.authUserId;\r\n        }\r\n        this.props.getProfileThunkCreater(userId);\r\n        this.props.getStatusThunkCreater(userId);\r\n    }\r\n    render(){\r\n        return (\r\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status} \r\n                updateStatus={this.props.updateStatusThunkCreater}/>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) =>{\r\n    return{\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status, \r\n        authUserId: state.auth.id,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getProfileThunkCreater, getStatusThunkCreater, updateStatusThunkCreater}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer);","import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nexport const withAuthRedirect = (Component) =>{\r\n    class RedirectComponent extends React.Component{\r\n        render (){\r\n            if(!this.props.isAuth){\r\n                return <Navigate to=\"/login\"/>;\r\n            }\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let mapStateToPropsForRedirect = (state) =>{\r\n        return{\r\n            isAuth: state.auth.isAuth\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n}"],"names":["ProfileStatus","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","editMode","status","props","activateEditMode","setState","deactivateEditMode","updateStatus","onStatusChange","e","currentTarget","value","_createClass","key","prevProps","prevState","this","_jsx","className","classes","children","onChange","autoFocus","onBlur","type","onDoubleClick","React","_ref","profile","_jsxs","src","alt","photos","small","fullName","message","likesCount","maxLength10","maxLengthCreator","MyPosts","postsElements","postsData","map","post","Post","AddNewPostReduxForm","onSubmit","values","addPost","newPostText","reduxForm","form","handleSubmit","Field","component","Textarea","name","validate","required","id","cols","rows","placeholder","connect","profilePage","dispatch","addPostActionCreater","ProfileInfo","_objectSpread","MyPostsContainer","ProfileContainer","userId","router","params","authUserId","getProfileThunkCreater","getStatusThunkCreater","Profile","updateStatusThunkCreater","compose","auth","isAuth","Component","location","useLocation","navigate","useNavigate","useParams","withAuthRedirect","RedirectComponent","Navigate","to"],"sourceRoot":""}